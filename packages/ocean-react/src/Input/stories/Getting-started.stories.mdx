import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import Input from '../Input';

import {
  EyeOutline,
  SearchOutline,
  MailOutline,
  LockClosedOutline,
} from '@useblu/ocean-icons-react';

export const INPUT_GETTING_STARTED_LABELS = {
  emailAddress: 'Email',
  fullName: 'Nome Completo',
  username: 'Nome de Usuário',
  password: 'Senha',
  age: 'Idade',
  phoneNumber: 'Telefone',
  searchProducts: 'Buscar Produtos',
  complexPassword: 'Senha Complexa',
  taxId: 'CPF/CNPJ',
  normalField: 'Campo Normal',
  errorField: 'Campo com Erro',
  disabledField: 'Campo Desabilitado',
  registrationTitle: 'Formulário de Registro',
  ecommerceTitle: 'Formulário de E-commerce',
  productName: 'Nome do Produto',
  price: 'Preço',
  quantityStock: 'Quantidade em Estoque',
  sku: 'SKU',
};

export const INPUT_GETTING_STARTED_HELPER_TEXTS = {
  emailVerification: 'Usado para verificação da conta',
  fullNameFormat: 'Nome e sobrenome',
  usernameRules: '3-20 caracteres, letras e números apenas',
  passwordSecurity: 'Mínimo 8 caracteres',
  ageRequirement: 'Deve ser maior de 18 anos',
  phoneFormat: 'Inclua o DDD',
  searchKeywords: 'Use palavras-chave para encontrar produtos',
  passwordComplexity: 'Escolha uma senha segura',
  taxIdInfo: 'CPF para pessoas físicas ou CNPJ para empresas',
  normalState: 'Estado normal do campo',
  validationError: 'Por favor, insira um email válido',
  autoFilled: 'Este campo é preenchido automaticamente',
  productTitle: 'Título descritivo do produto',
  sellingPrice: 'Preço de venda do produto',
  availableInventory: 'Inventário disponível',
  uniqueIdentifier: 'Identificador único do produto',
};

export const INPUT_GETTING_STARTED_PLACEHOLDERS = {
  emailExample: 'seu@email.com',
  fullNameExample: 'Digite seu nome completo',
  usernameExample: 'Escolha um nome de usuário',
  passwordExample: 'Digite sua senha',
  ageExample: 'Digite sua idade',
  phoneExample: '(11) 99999-9999',
  searchExample: 'Digite sua busca...',
  strongPasswordExample: 'Digite uma senha forte',
  invalidEmail: 'email-inválido',
  cannotEdit: 'Não pode editar',
  productNameExample: 'Digite o nome do produto',
  priceExample: '0,00',
  quantityExample: '0',
  skuExample: 'PROD-001',
  typeHere: 'Digite algo...',
};

export const INPUT_GETTING_STARTED_TOOLTIPS = {
  passwordComplexity:
    'A senha deve conter pelo menos 8 caracteres, incluindo maiúsculas, minúsculas, números e caracteres especiais',
  taxIdPurpose:
    'Digite seu CPF (pessoas físicas) ou CNPJ (empresas). Esta informação é criptografada e usada apenas para fins fiscais.',
  skuExplanation:
    'Stock Keeping Unit - usado para controle de estoque e deve ser único em todos os produtos',
  registrationPassword:
    'A senha deve ter pelo menos 8 caracteres e incluir números e caracteres especiais',
};

<Meta
  title="Components/Inputs/Getting Started"
  component={Input}
  argTypes={{
    type: {
      name: 'type',
      description: 'O tipo do input que define comportamento e validação.',
      table: {
        type: {
          summary:
            '"text" | "email" | "password" | "number" | "tel" | "url" | "search"',
        },
        defaultValue: { summary: 'text' },
      },
      control: { type: 'select' },
      options: ['text', 'email', 'password', 'number', 'tel', 'url', 'search'],
    },
    label: {
      name: 'label',
      description: 'O rótulo do campo que identifica seu propósito.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: '' },
      },
      control: { type: 'text' },
    },
    placeholder: {
      name: 'placeholder',
      description: 'Texto de exemplo que aparece quando o campo está vazio.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: '' },
      },
      control: { type: 'text' },
    },
    helperText: {
      name: 'helperText',
      description: 'Texto auxiliar que fornece contexto ou instruções.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: '' },
      },
      control: { type: 'text' },
    },
    error: {
      name: 'error',
      description: 'Define se o campo está em estado de erro.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
    disabled: {
      name: 'disabled',
      description: 'Desabilita a interação com o campo.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
    required: {
      name: 'required',
      description: 'Marca o campo como obrigatório.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
  }}
/>

# Input - Guia de Início

Guia completo para usar o componente Input e suas variações no Ocean Design System.

## Visão Geral

O componente Input é um elemento versátil para coleta de dados em formulários, oferecendo suporte a diversos tipos de entrada, ícones, tooltips e estados. Foi projetado para manter consistência e acessibilidade em toda a aplicação.

### Principais Características

- **Múltiplos Tipos**: Suporte para text, email, password, number, tel, url e search
- **Adornments Flexíveis**: Ícones, símbolos de moeda e elementos customizados
- **Gerenciamento de Estados**: Estados normal, erro, desabilitado e foco
- **Acessibilidade**: Suporte ARIA integrado e navegação por teclado
- **Integração com Formulários**: Funciona perfeitamente com bibliotecas de formulários

## Importação

```javascript
import { Input } from '@useblu/ocean-react';
```

## Uso

O componente Input pode ser usado em vários contextos. Aqui estão alguns padrões comuns:

### Uso Básico

<Canvas withSource="open" withToolbar>
  <Story name="usage">
    <Input
      label={INPUT_GETTING_STARTED_LABELS.emailAddress}
      name="email"
      type="email"
      placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.emailExample}
      helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.emailVerification}
    />
  </Story>
</Canvas>

### Padrões Comuns

```jsx
// Uso básico
<Input
  label={INPUT_GETTING_STARTED_LABELS.fullName}
  name="fullName"
  type="text"
  placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.fullNameExample}
/>

// Em formulários com validação
<form onSubmit={handleSubmit}>
  <Input
    label={INPUT_GETTING_STARTED_LABELS.emailAddress}
    name="email"
    type="email"
    required
    error={!!errors.email}
    helperText={errors.email?.message || INPUT_GETTING_STARTED_HELPER_TEXTS.emailVerification}
  />
  <Button type="submit">Enviar</Button>
</form>

// Com ícones e adornments
<Input
  label={INPUT_GETTING_STARTED_LABELS.searchProducts}
  name="search"
  type="search"
  placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.searchExample}
  adornment={<SearchOutline size={20} />}
  position="right"
/>
```

## Referência da API

O componente Input é baseado no elemento `input` e suporta todos os atributos padrão HTML.

<table>
  <thead>
    <tr>
      <th>Prop</th>
      <th>Tipo</th>
      <th>Padrão</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>type</td>
      <td>
        <code>
          "text" | "email" | "password" | "number" | "tel" | "url" | "search"
        </code>
      </td>
      <td>
        <code>"text"</code>
      </td>
      <td>
        Define o tipo do input e comportamento de validação. Use email para
        validação automática, password para campos seguros, number para valores
        numéricos.
      </td>
    </tr>
    <tr>
      <td>label</td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Rótulo que identifica o propósito do campo. Sempre forneça labels
        descritivos para acessibilidade.
      </td>
    </tr>
    <tr>
      <td>placeholder</td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Texto de exemplo que aparece quando vazio. Use para mostrar formato ou
        exemplo de conteúdo.
      </td>
    </tr>
    <tr>
      <td>helperText</td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Texto auxiliar que fornece contexto ou instruções. Útil para explicar
        requisitos ou formato esperado.
      </td>
    </tr>
    <tr>
      <td>adornment</td>
      <td>
        <code>ReactNode</code>
      </td>
      <td>
        <code>null</code>
      </td>
      <td>
        Elemento adicional (ícone, símbolo) exibido junto ao input. Use para
        contexto visual ou funcionalidade extra.
      </td>
    </tr>
    <tr>
      <td>position</td>
      <td>
        <code>"left" | "right"</code>
      </td>
      <td>
        <code>"right"</code>
      </td>
      <td>
        Posição do adornment. Use left para símbolos de moeda, right para ícones
        de ação.
      </td>
    </tr>
    <tr>
      <td>error</td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Define se o campo está em estado de erro. Ativa estilos visuais de erro
        e modifica a cor do helperText.
      </td>
    </tr>
    <tr>
      <td>disabled</td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Desabilita a interação com o campo. Use para campos calculados
        automaticamente ou indisponíveis.
      </td>
    </tr>
    <tr>
      <td>required</td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Marca o campo como obrigatório. Adiciona indicação visual e atributo
        HTML para validação.
      </td>
    </tr>
    <tr>
      <td>tooltipMessage</td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Mensagem de tooltip para informações contextuais. Use para explicações
        que não cabem no helperText.
      </td>
    </tr>
  </tbody>
</table>

## Exemplos

### Tipos de Input

Use a prop `type` para definir o comportamento e validação:

- `text`: Para dados de texto geral
- `email`: Para endereços de email com validação automática
- `password`: Para campos de senha com ocultação
- `number`: Para valores numéricos
- `tel`: Para números de telefone
- `url`: Para endereços web
- `search`: Para funcionalidade de busca

<Canvas withSource="open" withToolbar>
  <Story name="input-types">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label={INPUT_GETTING_STARTED_LABELS.fullName}
        name="fullName"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.fullNameExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.fullNameFormat}
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.emailAddress}
        name="email"
        type="email"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.emailExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.emailVerification}
        adornment={<MailOutline size={20} />}
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.password}
        name="password"
        type="password"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.passwordExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.passwordSecurity}
        adornment={<LockClosedOutline size={20} />}
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.age}
        name="age"
        type="number"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.ageExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.ageRequirement}
      />
    </div>
  </Story>
</Canvas>

### Adornments

Use a prop `adornment` com `position` para adicionar ícones ou símbolos:

- `position="left"`: Para símbolos de moeda, prefixos
- `position="right"`: Para ícones de ação, sufixos

<Canvas withSource="open" withToolbar>
  <Story name="adornments">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label={INPUT_GETTING_STARTED_LABELS.price}
        name="price"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.priceExample}
        helperText="Valor em reais"
        adornment={<span>R$</span>}
        position="left"
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.searchProducts}
        name="search"
        type="search"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.searchExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.searchKeywords}
        adornment={<SearchOutline size={20} />}
        position="right"
      />
    </div>
  </Story>
</Canvas>

### Estados

O componente suporta diferentes estados visuais:

<Canvas withSource="open" withToolbar>
  <Story name="states">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label={INPUT_GETTING_STARTED_LABELS.normalField}
        name="normal"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.typeHere}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.normalState}
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.errorField}
        name="error"
        type="email"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.invalidEmail}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.validationError}
        error
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.disabledField}
        name="disabled"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.cannotEdit}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.autoFilled}
        disabled
      />
    </div>
  </Story>
</Canvas>

### Tooltip

Use `tooltipMessage` para informações contextuais adicionais:

<Canvas withSource="open" withToolbar>
  <Story name="tooltip">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label={INPUT_GETTING_STARTED_LABELS.complexPassword}
        name="complexPassword"
        type="password"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.strongPasswordExample}
        tooltipMessage={INPUT_GETTING_STARTED_TOOLTIPS.passwordComplexity}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.passwordComplexity}
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.taxId}
        name="taxId"
        type="text"
        placeholder="000.000.000-00"
        tooltipMessage={INPUT_GETTING_STARTED_TOOLTIPS.taxIdPurpose}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.taxIdInfo}
      />
    </div>
  </Story>
</Canvas>

## Integração com Formulários

### Formulário de Registro

<Canvas withSource="open" withToolbar>
  <Story name="registration-form">
    <form
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label={INPUT_GETTING_STARTED_LABELS.fullName}
        name="fullName"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.fullNameExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.fullNameFormat}
        required
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.emailAddress}
        name="email"
        type="email"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.emailExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.emailVerification}
        adornment={<MailOutline size={20} />}
        required
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.password}
        name="password"
        type="password"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.strongPasswordExample}
        tooltipMessage={INPUT_GETTING_STARTED_TOOLTIPS.registrationPassword}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.passwordSecurity}
        adornment={<LockClosedOutline size={20} />}
        required
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.phoneNumber}
        name="phone"
        type="tel"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.phoneExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.phoneFormat}
      />
    </form>
  </Story>
</Canvas>

### Formulário de E-commerce

<Canvas withSource="open" withToolbar>
  <Story name="ecommerce-form">
    <form
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label={INPUT_GETTING_STARTED_LABELS.productName}
        name="productName"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.productNameExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.productTitle}
        required
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.price}
        name="price"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.priceExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.sellingPrice}
        adornment={<span>R$</span>}
        position="left"
        required
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.quantityStock}
        name="quantity"
        type="number"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.quantityExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.availableInventory}
        required
      />
      <Input
        label={INPUT_GETTING_STARTED_LABELS.sku}
        name="sku"
        type="text"
        placeholder={INPUT_GETTING_STARTED_PLACEHOLDERS.skuExample}
        helperText={INPUT_GETTING_STARTED_HELPER_TEXTS.uniqueIdentifier}
        tooltipMessage={INPUT_GETTING_STARTED_TOOLTIPS.skuExplanation}
      />
    </form>
  </Story>
</Canvas>

## Melhores Práticas

### 1. Uso Geral

- Use tipos apropriados para melhor validação e teclados móveis
- Sempre forneça labels descritivos para acessibilidade
- Use placeholders para mostrar formato ou exemplos
- Combine helperText e tooltips para orientação clara

### 2. Tipos de Input

- `email`: Para endereços de email com validação automática
- `password`: Para campos seguros com ocultação de texto
- `number`: Para valores numéricos com validação
- `tel`: Para números de telefone com teclado numérico no mobile
- `search`: Para funcionalidade de busca com comportamento específico

### 3. Adornments

- Use `position="left"` para símbolos de moeda e prefixos
- Use `position="right"` para ícones de ação e funcionalidades
- Mantenha ícones simples e reconhecíveis
- Use tamanho 20px para ícones Ocean Icons

### 4. Estados e Validação

- Use `error` para campos com validação falhada
- Combine com helperText para mensagens de erro específicas
- Use `disabled` apenas quando necessário e explique o motivo
- Marque campos obrigatórios com `required`

### 5. Acessibilidade

- Sempre forneça labels claros e descritivos
- Use helperText para instruções importantes
- Mantenha ordem de tabulação lógica
- Forneça feedback claro para estados de erro
- Use tooltips para informações adicionais, não essenciais

## Props

<ArgsTable of={Input} />

A ref é encaminhada para o elemento input. Qualquer outra prop fornecida será passada para o elemento raiz.

## Playground

<Canvas>
  <Story
    name="playground"
    args={{
      label: INPUT_GETTING_STARTED_LABELS.emailAddress,
      name: 'field',
      type: 'email',
      placeholder: INPUT_GETTING_STARTED_PLACEHOLDERS.emailExample,
      helperText: INPUT_GETTING_STARTED_HELPER_TEXTS.emailVerification,
      error: false,
      disabled: false,
      required: false,
    }}
  >
    {(args) => <Input {...args} />}
  </Story>
</Canvas>
