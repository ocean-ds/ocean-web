import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import Input from '../Input';
import {
  EyeOutline,
  SearchOutline,
  LockClosedOutline,
  MailOutline,
  PhoneOutline,
} from '@useblu/ocean-icons-react';

<Meta
  title="Components/Inputs/Input com Ícones"
  component={Input}
  argTypes={{
    type: {
      name: 'type',
      description:
        'O tipo do elemento input. Define o comportamento e validação específica para cada tipo de entrada.',
      table: {
        type: { summary: '"text" | "email" | "password" | "search" | "tel"' },
        defaultValue: { summary: '"text"' },
      },
      control: {
        type: 'select',
        options: ['text', 'email', 'password', 'search', 'tel'],
      },
    },
    label: {
      name: 'label',
      description:
        'O rótulo do campo de entrada. Essencial para acessibilidade e compreensão do usuário sobre o que inserir.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: 'undefined' },
      },
      control: { type: 'text' },
    },
    placeholder: {
      name: 'placeholder',
      description:
        'Texto de exemplo mostrado quando o input está vazio. Deve demonstrar o formato esperado ou dar dicas sobre o conteúdo.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: 'undefined' },
      },
      control: { type: 'text' },
    },
    position: {
      name: 'position',
      description:
        'Posição do ícone no input. "left" para ícones no início, "right" para ícones no final do campo.',
      table: {
        type: { summary: '"left" | "right"' },
        defaultValue: { summary: '"right"' },
      },
      control: { type: 'select', options: ['left', 'right'] },
    },
    helperText: {
      name: 'helperText',
      description:
        'Texto de ajuda exibido abaixo do input. Use para orientações adicionais ou mensagens de validação.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: 'undefined' },
      },
      control: { type: 'text' },
    },
    error: {
      name: 'error',
      description:
        'Quando true, aplica estilos de estado de erro ao input. Use com validação de formulário para indicar problemas.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: 'false' },
      },
      control: { type: 'boolean' },
    },
    disabled: {
      name: 'disabled',
      description:
        'Quando true, desabilita o campo de entrada. Use quando o campo não estiver disponível ou aplicável no contexto atual.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: 'false' },
      },
      control: { type: 'boolean' },
    },
  }}
/>

# Input com Ícones

Componente de entrada aprimorado com ícones para melhorar a experiência do usuário e fornecer contexto visual.

## Visão Geral

Inputs com ícones fornecem contexto visual e usabilidade aprimorada através da adição de ícones relevantes aos campos de entrada. Os ícones podem indicar o propósito do input, fornecer funcionalidade interativa ou melhorar a hierarquia visual. Casos comuns incluem campos de busca, alternância de senha, informações de contato e gatilhos de ação.

## Importação

```javascript
import { Input } from '@useblu/ocean-react';
import {
  SearchOutline,
  EyeOutline,
  MailOutline,
} from '@useblu/ocean-icons-react';
```

## Uso

Ícones aprimoram campos de entrada fornecendo contexto visual e funcionalidade interativa.

### Uso Básico

<Canvas withSource="open" withToolbar>
  <Story name="usage">
    <Input
      label="Buscar"
      name="search"
      type="search"
      placeholder="Buscar produtos..."
      adornment={<SearchOutline size={20} />}
      helperText="Use palavras-chave para encontrar produtos"
    />
  </Story>
</Canvas>

### Padrões Comuns

```jsx
// Campos de formulário com ícones
<div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
  <Input
    label="Email"
    name="email"
    type="email"
    placeholder="seu@email.com"
    adornment={<MailOutline size={20} />}
  />
  <Input
    label="Senha"
    name="password"
    type="password"
    placeholder="Digite sua senha"
    adornment={<LockClosedOutline size={20} />}
  />
  <Input
    label="Telefone"
    name="phone"
    type="tel"
    placeholder="(11) 99999-9999"
    adornment={<PhoneOutline size={20} />}
  />
</div>

// Ícones interativos
<div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
  <Input
    label="Senha"
    name="password"
    type="password"
    placeholder="Digite sua senha"
    adornment={<EyeOutline size={20} />}
    helperText="Clique no olho para alternar visibilidade"
  />
  <Input
    label="Buscar Produtos"
    name="search"
    type="search"
    placeholder="Digite para buscar..."
    adornment={<SearchOutline size={20} />}
    helperText="Pressione Enter para buscar"
  />
</div>
```

## Referência da API

O componente Input com Ícones suporta todas as props do Input padrão, além de props específicas para ícones.

<table>
  <thead>
    <tr>
      <th>Prop</th>
      <th>Tipo</th>
      <th>Padrão</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>adornment</td>
      <td>
        <code>ReactNode</code>
      </td>
      <td>
        <code>undefined</code>
      </td>
      <td>
        Elemento React (geralmente um ícone) a ser exibido como adorno do input.
      </td>
    </tr>
    <tr>
      <td>position</td>
      <td>
        <code>"left" | "right"</code>
      </td>
      <td>
        <code>"right"</code>
      </td>
      <td>
        Posição do ícone no input. "left" para início, "right" para final.
      </td>
    </tr>
  </tbody>
</table>

## Exemplos

### Tipos de Ícones por Contexto

Diferentes ícones para diferentes contextos de input:

<Canvas withSource="open" withToolbar>
  <Story name="contexts">
    <div
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label="Email"
        name="email"
        type="email"
        placeholder="seu@email.com"
        adornment={<MailOutline size={20} />}
        helperText="Nunca compartilharemos seu email"
      />
      <Input
        label="Senha"
        name="password"
        type="password"
        placeholder="Digite sua senha"
        adornment={<LockClosedOutline size={20} />}
        helperText="Mínimo de 8 caracteres"
      />
      <Input
        label="Telefone"
        name="phone"
        type="tel"
        placeholder="(11) 99999-9999"
        adornment={<PhoneOutline size={20} />}
        helperText="Inclua o DDD"
      />
      <Input
        label="Buscar"
        name="search"
        type="search"
        placeholder="Buscar qualquer coisa..."
        adornment={<SearchOutline size={20} />}
        helperText="Use palavras-chave para melhores resultados"
      />
    </div>
  </Story>
</Canvas>

### Posições de Ícones

Ícones podem ser posicionados em ambos os lados para diferentes propósitos:

<Canvas withSource="open" withToolbar>
  <Story name="positions">
    <div
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label="Buscar (Ícone à Direita)"
        name="searchRight"
        type="search"
        placeholder="Buscar produtos..."
        adornment={<SearchOutline size={20} />}
        position="right"
        helperText="Ícone no lado direito"
      />
      <Input
        label="Buscar (Ícone à Esquerda)"
        name="searchLeft"
        type="search"
        placeholder="Buscar produtos..."
        adornment={<SearchOutline size={20} />}
        position="left"
        helperText="Ícone no lado esquerdo"
      />
    </div>
  </Story>
</Canvas>

### Ícones Interativos

Ícones que fornecem funcionalidade interativa:

<Canvas withSource="open" withToolbar>
  <Story name="interactive">
    <div
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label="Senha"
        name="password"
        type="password"
        placeholder="Digite sua senha"
        adornment={<EyeOutline size={20} />}
        helperText="Clique no ícone para mostrar/ocultar senha"
      />
      <Input
        label="Buscar"
        name="search"
        type="search"
        placeholder="Digite para buscar..."
        adornment={<SearchOutline size={20} />}
        helperText="Pressione Enter ou clique no ícone para buscar"
      />
    </div>
  </Story>
</Canvas>

## Integração com Formulários

### Uso em Formulários

```jsx
<form onSubmit={handleSubmit}>
  <Input
    label="Email"
    name="email"
    type="email"
    placeholder="seu@email.com"
    adornment={<MailOutline size={20} />}
    required
  />
  <Input
    label="Senha"
    name="password"
    type="password"
    placeholder="Digite sua senha"
    adornment={<LockClosedOutline size={20} />}
    required
  />
  <Button type="submit">Enviar</Button>
</form>
```

### Validação

```jsx
<form onSubmit={handleSubmit}>
  <Input
    label="Email"
    name="email"
    type="email"
    placeholder="seu@email.com"
    adornment={<MailOutline size={20} />}
    error={errors.email}
    helperText={errors.email || 'Digite um email válido'}
    required
  />
  <Button type="submit" disabled={!isFormValid}>
    {isSubmitting ? 'Enviando...' : 'Enviar'}
  </Button>
</form>
```

## Melhores Práticas

### 1. Uso de Ícones

- Use ícones que sejam intuitivos e amplamente reconhecidos
- Mantenha consistência no uso de ícones em toda a aplicação
- Escolha ícones que complementem o propósito do campo
- Evite ícones decorativos sem significado funcional

### 2. Posicionamento

- Use ícones à direita para ações interativas (ex: mostrar/ocultar senha)
- Use ícones à esquerda para indicar o tipo de conteúdo esperado
- Mantenha consistência no posicionamento de ícones similares
- Considere o layout em dispositivos móveis ao posicionar ícones

### 3. Acessibilidade

- Forneça texto alternativo para ícones interativos
- Use `aria-label` para descrever a função do ícone
- Mantenha contraste adequado entre ícones e fundo
- Garanta que ícones interativos sejam facilmente clicáveis

### 4. Design e UX

- Mantenha o tamanho dos ícones consistente (recomendado: 20px)
- Use cores que se integrem com o tema da aplicação
- Evite sobrecarregar o input com múltiplos ícones
- Considere estados de hover e focus para ícones interativos

## Classes CSS

<table>
  <thead>
    <tr>
      <th>Classe Global</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>.ods-input</code>
      </td>
      <td>Estilos aplicados ao elemento raiz.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-input__adornment</code>
      </td>
      <td>Container do ícone de adorno.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-input__adornment--left</code>
      </td>
      <td>Estilos aplicados quando o ícone está à esquerda.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-input__adornment--right</code>
      </td>
      <td>Estilos aplicados quando o ícone está à direita.</td>
    </tr>
  </tbody>
</table>

## Props

<ArgsTable of={Input} />

A ref é encaminhada para o elemento input. Qualquer outra prop fornecida será passada para o elemento input.

## Playground

<Canvas>
  <Story
    name="playground"
    args={{
      label: 'Input com Ícone',
      placeholder: 'Digite aqui...',
      helperText: 'Texto de ajuda',
      type: 'text',
      adornment: <SearchOutline size={20} />,
      position: 'right',
    }}
  >
    {(args) => <Input {...args} />}
  </Story>
</Canvas>
