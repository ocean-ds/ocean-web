import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import Input from '../Input';
import {
  EyeOutline,
  SearchOutline,
  LockClosedOutline,
  MailOutline,
  PhoneOutline,
} from '@useblu/ocean-icons-react';

<Meta
  title="Components/Inputs/Input with Icons"
  component={Input}
  argTypes={{
    type: {
      name: 'type',
      description: 'The type of the input element.',
      table: {
        type: { summary: '"text" | "email" | "password" | "search" | "tel"' },
        defaultValue: { summary: 'text' },
      },
      control: {
        type: 'select',
        options: ['text', 'email', 'password', 'search', 'tel'],
      },
    },
    label: {
      name: 'label',
      description: 'The label for the input field.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: undefined },
      },
      control: { type: 'text' },
    },
    placeholder: {
      name: 'placeholder',
      description: 'The placeholder text for the input.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: undefined },
      },
      control: { type: 'text' },
    },
    position: {
      name: 'position',
      description: 'Position of the icon adornment.',
      table: {
        type: { summary: '"left" | "right"' },
        defaultValue: { summary: 'right' },
      },
      control: { type: 'select', options: ['left', 'right'] },
    },
    helperText: {
      name: 'helperText',
      description: 'Helper text displayed below the input.',
      table: {
        type: { summary: 'string' },
        defaultValue: { summary: undefined },
      },
      control: { type: 'text' },
    },
    error: {
      name: 'error',
      description: 'Sets the input styles to error state.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
    disabled: {
      name: 'disabled',
      description: 'Disables the input field.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
  }}
/>

# Input with Icons

Enhanced input component with icon adornments for improved user experience and visual context.

## Overview

Input with icons provides visual context and enhanced usability by adding relevant icons to input fields. Icons can indicate the input purpose, provide interactive functionality, or enhance the visual hierarchy. Common use cases include search fields, password toggles, contact information, and action triggers.

## Import

```javascript
import { Input } from '@useblu/ocean-react';
import {
  SearchOutline,
  EyeOutline,
  MailOutline,
} from '@useblu/ocean-icons-react';
```

## Usage

Icon adornments enhance input fields by providing visual context and interactive functionality.

### Basic Icon Input

<Canvas withSource="open" withToolbar>
  <Story name="basic">
    <Input
      label="Search"
      name="search"
      type="search"
      placeholder="Search products..."
      adornment={<SearchOutline size={20} />}
      helperText="Use keywords to find products"
    />
  </Story>
</Canvas>

### Common Icon Patterns

1. **Form Field Icons**

   ```jsx
   <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
     <Input
       label="Email"
       name="email"
       type="email"
       placeholder="your@email.com"
       adornment={<MailOutline size={20} />}
     />
     <Input
       label="Password"
       name="password"
       type="password"
       placeholder="Enter password"
       adornment={<LockClosedOutline size={20} />}
     />
     <Input
       label="Phone"
       name="phone"
       type="tel"
       placeholder="(11) 99999-9999"
       adornment={<PhoneOutline size={20} />}
     />
   </div>
   ```

2. **Interactive Icons**
   ```jsx
   <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
     <Input
       label="Password"
       name="password"
       type="password"
       placeholder="Enter password"
       adornment={<EyeOutline size={20} />}
       helperText="Click eye to toggle visibility"
     />
     <Input
       label="Search Products"
       name="search"
       type="search"
       placeholder="Type to search..."
       adornment={<SearchOutline size={20} />}
       helperText="Press Enter to search"
     />
   </div>
   ```

## Examples

### Icon Types by Context

Different icons for different input contexts:

<Canvas withSource="open" withToolbar>
  <Story name="contexts">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label="Email Address"
        name="email"
        type="email"
        placeholder="your@email.com"
        adornment={<MailOutline size={20} />}
        helperText="We'll never share your email"
      />
      <Input
        label="Password"
        name="password"
        type="password"
        placeholder="Enter your password"
        adornment={<LockClosedOutline size={20} />}
        helperText="Minimum 8 characters"
      />
      <Input
        label="Phone Number"
        name="phone"
        type="tel"
        placeholder="(11) 99999-9999"
        adornment={<PhoneOutline size={20} />}
        helperText="Include area code"
      />
      <Input
        label="Search"
        name="search"
        type="search"
        placeholder="Search anything..."
        adornment={<SearchOutline size={20} />}
        helperText="Use keywords for better results"
      />
    </div>
  </Story>
</Canvas>

### Icon Positions

Icons can be positioned on either side for different purposes:

<Canvas withSource="open" withToolbar>
  <Story name="positions">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label="Search (Right Icon)"
        name="searchRight"
        type="search"
        placeholder="Search products..."
        adornment={<SearchOutline size={20} />}
        position="right"
        helperText="Icon on the right side"
      />
      <Input
        label="Search (Left Icon)"
        name="searchLeft"
        type="search"
        placeholder="Search products..."
        adornment={<SearchOutline size={20} />}
        position="left"
        helperText="Icon on the left side"
      />
    </div>
  </Story>
</Canvas>

### Interactive Icons

Icons that provide interactive functionality:

<Canvas withSource="open" withToolbar>
  <Story name="interactive">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label="Password with Toggle"
        name="passwordToggle"
        type="password"
        placeholder="Enter your password"
        adornment={<EyeOutline size={20} />}
        helperText="Click the eye icon to show/hide password"
      />
      <Input
        label="Search with Action"
        name="searchAction"
        type="search"
        placeholder="Search products..."
        adornment={<SearchOutline size={20} />}
        helperText="Click the search icon to execute search"
      />
    </div>
  </Story>
</Canvas>

### States with Icons

Icon inputs in different states:

<Canvas withSource="open" withToolbar>
  <Story name="states">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      <Input
        label="Normal State"
        name="normal"
        type="email"
        placeholder="your@email.com"
        adornment={<MailOutline size={20} />}
        helperText="Enter your email address"
      />
      <Input
        label="Error State"
        name="error"
        type="email"
        placeholder="your@email.com"
        adornment={<MailOutline size={20} />}
        helperText="Please enter a valid email address"
        error
      />
      <Input
        label="Disabled State"
        name="disabled"
        type="email"
        placeholder="your@email.com"
        adornment={<MailOutline size={20} />}
        helperText="Email field is disabled"
        disabled
      />
    </div>
  </Story>
</Canvas>

### Login Form Example

Real-world example in a login form:

<Canvas withSource="open" withToolbar>
  <Story name="login-form">
    <form
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label="Email Address"
        name="loginEmail"
        type="email"
        placeholder="your@email.com"
        adornment={<MailOutline size={20} />}
        helperText="Enter your registered email"
        required
      />
      <Input
        label="Password"
        name="loginPassword"
        type="password"
        placeholder="Enter your password"
        adornment={<EyeOutline size={20} />}
        helperText="Click the eye to show password"
        required
      />
    </form>
  </Story>
</Canvas>

### Search Interface Example

Real-world example in a search interface:

<Canvas withSource="open" withToolbar>
  <Story name="search-interface">
    <div
      style={{
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        maxWidth: '400px',
      }}
    >
      <Input
        label="Product Search"
        name="productSearch"
        type="search"
        placeholder="Search for products..."
        adornment={<SearchOutline size={20} />}
        helperText="Search by name, category, or brand"
      />
      <Input
        label="Location Search"
        name="locationSearch"
        type="search"
        placeholder="Enter city or ZIP code"
        adornment={<SearchOutline size={20} />}
        helperText="Find stores near you"
      />
    </div>
  </Story>
</Canvas>

## API Reference

Icon input specific properties and usage guidelines.

| Prop        | Type               | Default   | Description                                                                                 |
| ----------- | ------------------ | --------- | ------------------------------------------------------------------------------------------- |
| adornment   | React.ReactElement | undefined | Icon component to display. Use Ocean icons with consistent sizing (16-24px).                |
| position    | "left" \| "right"  | "right"   | Position of the icon. Right is common for actions, left for context/type indication.        |
| type        | string             | "text"    | Input type should match the icon context (email for MailOutline, search for SearchOutline). |
| label       | string             | undefined | Label should describe the input purpose. Can reference the icon context.                    |
| placeholder | string             | undefined | Placeholder text that works with the icon context.                                          |
| helperText  | string             | undefined | Can explain icon functionality (e.g., "Click to toggle visibility").                        |
| error       | boolean            | false     | Error state styling. Icon color may change to indicate error state.                         |
| disabled    | boolean            | false     | Disabled state. Both input and icon should appear disabled.                                 |

## Icon Guidelines

### Icon Selection

- **Search**: Use `SearchOutline` for search inputs
- **Email**: Use `MailOutline` for email inputs
- **Password**: Use `LockClosedOutline` or `EyeOutline` for password inputs
- **Phone**: Use `PhoneOutline` for phone number inputs
- **User**: Use `UserOutline` for user-related inputs

### Icon Sizing

- **Standard**: 20px for most inputs
- **Small**: 16px for compact interfaces
- **Large**: 24px for prominent inputs

### Icon Colors

- **Normal**: Use default icon color from design system
- **Error**: Icons should inherit error state colors
- **Disabled**: Icons should appear muted when input is disabled

## CSS

| Global class            | Description                                       |
| ----------------------- | ------------------------------------------------- |
| .ods-input              | Styles applied to the root element.               |
| .ods-input--filled      | Styles applied when input has content.            |
| .ods-input--disabled    | Styles applied when input is disabled.            |
| .ods-input--error       | Styles applied when input is in error state.      |
| .ods-input--left        | Styles applied when adornment is positioned left. |
| .ods-input\_\_adornment | Styles applied to the icon adornment element.     |

## Props

<ArgsTable of={Input} />

The ref is forwarded to the input element. Any other props supplied will be provided to the input element.

## Playground

<Canvas>
  <Story
    name="playground"
    args={{
      label: 'Input with Icon',
      placeholder: 'Enter text...',
      helperText: 'Helper text',
      type: 'text',
      position: 'right',
    }}
  >
    {(args) => <Input {...args} adornment={<SearchOutline size={20} />} />}
  </Story>
</Canvas>
