import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import Button from '../Button';

<Meta
  title="Components/Button"
  component={Button}
  argTypes={{
    variant: {
      name: 'variant',
      description: 'A variante visual do botão.',
      table: {
        type: {
          summary:
            '"primary" | "primaryCritical" | "secondary" | "secondaryCritical" | "tertiary" | "tertiaryCritical" | "textTertiary" | "textTertiaryCritical" | "inverse"',
        },
        defaultValue: { summary: 'primary' },
      },
      control: { type: 'select' },
      options: [
        'primary',
        'primaryCritical',
        'secondary',
        'secondaryCritical',
        'tertiary',
        'tertiaryCritical',
        'textTertiary',
        'textTertiaryCritical',
        'inverse',
      ],
    },
    size: {
      name: 'size',
      description: 'O tamanho do botão.',
      table: {
        type: {
          summary: '"sm" | "md" | "lg"',
        },
        defaultValue: { summary: 'md' },
      },
      control: { type: 'select' },
      options: ['sm', 'md', 'lg'],
    },
    blocked: {
      name: 'blocked',
      description: 'Faz o botão ocupar toda a largura do container pai.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
    loading: {
      name: 'loading',
      description:
        'Exibe um estado de carregamento alterando o conteúdo do botão.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
    disabled: {
      name: 'disabled',
      description: 'Desabilita o botão.',
      table: {
        type: { summary: 'boolean' },
        defaultValue: { summary: false },
      },
      control: { type: 'boolean' },
    },
  }}
/>

# Button

Aciona uma ação ou evento, como enviar um formulário ou exibir um diálogo.

## Visão Geral

O componente Button é um elemento fundamental da interface do usuário usado para acionar ações ou eventos. Ele suporta vários estilos, tamanhos e estados para acomodar diferentes casos de uso e requisitos de design.

## Importação

```javascript
import { Button } from '@useblu/ocean-react';
```

## Uso

O componente Button pode ser usado em vários contextos. Aqui estão alguns padrões comuns:

### Uso Básico

<Canvas withSource="open" withToolbar>
  <Story name="usage">
    <Button>Clique Aqui!</Button>
  </Story>
</Canvas>

### Padrões Comuns

```jsx
// Botão de ação principal
<Button variant="primary">Salvar</Button>

// Botão secundário para ações alternativas
<Button variant="secondary">Cancelar</Button>

// Botão de texto para ações sutis
<Button variant="tertiary">Editar</Button>

// Botão em formulários
<form onSubmit={handleSubmit}>
  <Button type="submit">Enviar Formulário</Button>
</form>
```

## Referência da API

O componente Button é baseado no elemento `button` e suporta todos os atributos padrão de botão.

{' '}

<table>
  <thead>
    <tr>
      <th>Prop</th>
      <th>Tipo</th>
      <th>Padrão</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>variant</td>
      <td>
        <code>
          "primary" | "primaryCritical" | "secondary" | "secondaryCritical" |
          "tertiary" | "tertiaryCritical" | "textTertiary" |
          "textTertiaryCritical" | "inverse"
        </code>
      </td>
      <td>
        <code>"primary"</code>
      </td>
      <td>
        O estilo visual do botão. Use primary para ações principais, secondary
        para alternativas e tertiary para ações sutis.
      </td>
    </tr>
    <tr>
      <td>size</td>
      <td>
        <code>"sm" | "md" | "lg"</code>
      </td>
      <td>
        <code>"md"</code>
      </td>
      <td>
        O tamanho do botão. Use sm para interfaces compactas, md para uso padrão
        e lg para ações proeminentes.
      </td>
    </tr>
    <tr>
      <td>blocked</td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Quando true, o botão ocupa toda a largura do container. Útil para
        interfaces mobile e envios de formulário.
      </td>
    </tr>
    <tr>
      <td>loading</td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Exibe um spinner de carregamento e desabilita o botão. Use durante
        operações assíncronas.
      </td>
    </tr>
    <tr>
      <td>disabled</td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Impede a interação do usuário com o botão. Use quando a ação não estiver
        disponível.
      </td>
    </tr>
  </tbody>
</table>

## Exemplos

### Variantes

Use a prop `variant` para definir o estilo visual do botão:

- `primary`: Para ações principais e call-to-actions
- `primaryCritical`: Para ações principais destrutivas
- `secondary`: Para ações secundárias e alternativas
- `secondaryCritical`: Para ações secundárias destrutivas
- `tertiary`: Para ações terciárias discretas
- `tertiaryCritical`: Para ações terciárias destrutivas
- `textTertiary`: Para ações terciárias discretas
- `textTertiaryCritical`: Para ações terciárias destrutivas
- `inverse`: Para uso em fundos escuros
- <s>text</s>: (deprecated)
- <s>textCritical</s>: (deprecated)

<Canvas withSource="open" withToolbar>
  <Story name="variants">
    <div
      style={{
        display: 'flex',
        gap: '8px',
        flexWrap: 'wrap',
        alignItems: 'center',
      }}
    >
      <Button variant="primary">Primary</Button>
      <Button variant="primaryCritical">Primary Critical</Button>
      <Button variant="secondary">Secondary</Button>
      <Button variant="secondaryCritical">Secondary Critical</Button>
      <Button variant="tertiary">Tertiary</Button>
      <Button variant="tertiaryCritical">Tertiary Critical</Button>
      <Button variant="textTertiary">Text Tertiary</Button>
      <Button variant="textTertiaryCritical">Text Tertiary Critical</Button>
      <Button variant="inverse">Inverse</Button>
    </div>
  </Story>
</Canvas>

### Tamanhos

Use a prop `size` para controlar o tamanho do botão:

- `sm`: Para interfaces compactas ou inline com texto
- `md`: Tamanho padrão para a maioria dos casos de uso
- `lg`: Para botões de call-to-action proeminentes

<Canvas withSource="open" withToolbar>
  <Story name="sizes">
    <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>
      <Button size="sm">Pequeno</Button>
      <Button size="md">Médio</Button>
      <Button size="lg">Grande</Button>
    </div>
  </Story>
</Canvas>

### Botão Bloco

Use a prop `blocked` para fazer o botão ocupar toda a largura do container:

- Botões de envio de formulário
- Interfaces mobile
- Rodapés de cards ou modais

<Canvas withSource="open" withToolbar>
  <Story name="blocked">
    <div
      style={{
        width: '500px',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
      }}
    >
      <Button blocked>Botão Bloco</Button>
    </div>
  </Story>
</Canvas>

### Estado Desabilitado

Use a prop `disabled` para impedir a interação do usuário:

- Quando a ação não está disponível
- Quando campos obrigatórios não foram preenchidos
- Durante processamento

<Canvas withSource="open" withToolbar>
  <Story name="disabled">
    <div
      style={{
        display: 'flex',
        gap: '8px',
        flexWrap: 'wrap',
        alignItems: 'center',
      }}
    >
      <Button disabled>Botão Desabilitado</Button>
      <Button variant="secondary" disabled>
        Secondary Desabilitado
      </Button>
      <Button variant="tertiary" disabled>
        Tertiary Desabilitado
      </Button>
    </div>
  </Story>
</Canvas>

### Estados Desabilitados por Variante

Exemplos de estados desabilitados para cada variante:

<Canvas withSource="open" withToolbar>
  <Story name="disabled-variants">
    <div
      style={{
        display: 'flex',
        gap: '8px',
        flexWrap: 'wrap',
        alignItems: 'center',
      }}
    >
      <Button variant="primary" disabled>
        Primary
      </Button>
      <Button variant="primaryCritical" disabled>
        Primary Critical
      </Button>
      <Button variant="secondary" disabled>
        Secondary
      </Button>
      <Button variant="secondaryCritical" disabled>
        Secondary Critical
      </Button>
      <Button variant="tertiary" disabled>
        Tertiary
      </Button>
      <Button variant="tertiaryCritical" disabled>
        Tertiary Critical
      </Button>
      <Button variant="textTertiary" disabled>
        Text Tertiary
      </Button>
      <Button variant="textTertiaryCritical" disabled>
        Text Tertiary Critical
      </Button>
      <Button variant="inverse" disabled>
        Inverse
      </Button>
    </div>
  </Story>
</Canvas>

### Estado de Carregamento

Use a prop `loading` para exibir um estado de carregamento:

- Durante envios de formulário
- Durante operações assíncronas
- Para prevenir cliques duplos

<Canvas withSource="open" withToolbar>
  <Story name="loading">
    <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>
      <Button loading>Carregando...</Button>
      <Button variant="secondary" loading>
        Processando
      </Button>
      <Button variant="tertiary" loading>
        Salvando
      </Button>
    </div>
  </Story>
</Canvas>

### Estados de Carregamento por Variante

Exemplos de estados de carregamento para cada variante:

<Canvas withSource="open" withToolbar>
  <Story name="loading-variants">
    <div
      style={{
        display: 'flex',
        gap: '8px',
        flexWrap: 'wrap',
        alignItems: 'center',
      }}
    >
      <Button variant="primary" loading>
        Primary
      </Button>
      <Button variant="primaryCritical" loading>
        Primary Critical
      </Button>
      <Button variant="secondary" loading>
        Secondary
      </Button>
      <Button variant="secondaryCritical" loading>
        Secondary Critical
      </Button>
      <Button variant="tertiary" loading>
        Tertiary
      </Button>
      <Button variant="tertiaryCritical" loading>
        Tertiary Critical
      </Button>
      <Button variant="textTertiary" loading>
        Text Tertiary
      </Button>
      <Button variant="textTertiaryCritical" loading>
        Text Tertiary Critical
      </Button>
      <Button variant="inverse" loading>
        Inverse
      </Button>
    </div>
  </Story>
</Canvas>

### Carregamento por Tamanho

Exemplos de estados de carregamento para cada tamanho:

<Canvas withSource="open" withToolbar>
  <Story name="loading-sizes">
    <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>
      <Button size="sm" loading>
        Pequeno
      </Button>
      <Button size="md" loading>
        Médio
      </Button>
      <Button size="lg" loading>
        Grande
      </Button>
    </div>
  </Story>
</Canvas>

## Tipos de Botão

O componente Button suporta todos os tipos padrão de botão HTML. O atributo `type` determina o comportamento do botão em formulários e interações.

{' '}

<table>
  <thead>
    <tr>
      <th>Tipo</th>
      <th>Descrição</th>
      <th>Caso de Uso</th>
      <th>Exemplo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>button</code>
      </td>
      <td>Tipo padrão de botão</td>
      <td>Ações gerais, interações JavaScript</td>
      <td>
        <code>&lt;Button type="button"&gt;Clique&lt;/Button&gt;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>submit</code>
      </td>
      <td>Envia dados do formulário</td>
      <td>Envios de formulário, salvamento de dados</td>
      <td>
        <code>&lt;Button type="submit"&gt;Salvar&lt;/Button&gt;</code>
      </td>
    </tr>
    <tr>
      <td>
        <code>reset</code>
      </td>
      <td>Reseta campos do formulário</td>
      <td>Funcionalidade de reset de formulário</td>
      <td>
        <code>&lt;Button type="reset"&gt;Limpar&lt;/Button&gt;</code>
      </td>
    </tr>
  </tbody>
</table>

### Exemplos de Uso

#### Envio de Formulário

```jsx
<form onSubmit={handleSubmit}>
  <input type="text" placeholder="Nome" />
  <input type="email" placeholder="Email" />
  <Button type="submit">Enviar Formulário</Button>
  <Button type="button" variant="secondary">
    Cancelar
  </Button>
</form>
```

#### Reset de Formulário

```jsx
<form>
  <input type="text" placeholder="Nome" />
  <input type="email" placeholder="Email" />
  <Button type="submit">Salvar</Button>
  <Button type="reset" variant="secondary">
    Limpar Formulário
  </Button>
</form>
```

#### Ação Personalizada

```jsx
<Button type="button" onClick={handleClick}>
  Ação Personalizada
</Button>
```

## Integração com Formulários

### Uso em Formulários

```jsx
<form onSubmit={handleSubmit}>
  <div>
    <label htmlFor="name">Nome:</label>
    <input id="name" name="name" type="text" required />
  </div>
  <div>
    <label htmlFor="email">Email:</label>
    <input id="email" name="email" type="email" required />
  </div>
  <div style={{ display: 'flex', gap: '8px' }}>
    <Button type="submit" loading={isSubmitting}>
      {isSubmitting ? 'Enviando...' : 'Enviar'}
    </Button>
    <Button type="button" variant="secondary" onClick={handleCancel}>
      Cancelar
    </Button>
  </div>
</form>
```

### Validação

```jsx
<form onSubmit={handleSubmit}>
  <input type="email" required />
  <Button type="submit" disabled={!isFormValid} loading={isSubmitting}>
    {isSubmitting ? 'Validando...' : 'Criar Conta'}
  </Button>
</form>
```

## Melhores Práticas

### 1. Envios de Formulário

- Use `type="submit"` para o botão principal de envio do formulário
- Use `type="button"` para ações secundárias em formulários
- Use `type="reset"` com parcimônia e apenas quando o reset do formulário for necessário

### 2. Interações JavaScript

- Use `type="button"` para botões que acionam funções JavaScript
- Isso previne envios acidentais de formulário

### 3. Acessibilidade

- Sempre especifique o atributo `type`
- Use tipos apropriados para melhor suporte a leitores de tela
- Mantenha comportamento consistente em toda a aplicação
- Forneça feedback visual claro para estados (loading, disabled)
- Use textos descritivos que indiquem claramente a ação

### 4. Design e UX

- Use `primary` para ações principais (máximo 1 por tela)
- Use `secondary` para ações alternativas
- Use `tertiary` para ações sutis ou links
- Mantenha consistência no uso de tamanhos
- Use `blocked` em interfaces mobile para melhor usabilidade

## Classes CSS

<table>
  <thead>
    <tr>
      <th>Classe Global</th>
      <th>Descrição</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>.ods-btn</code>
      </td>
      <td>Estilos aplicados ao elemento raiz.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--primary</code>
      </td>
      <td>Define cor de fundo e texto primária do botão.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--primary-critical</code>
      </td>
      <td>Define estilos do botão primary critical.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--secondary</code>
      </td>
      <td>Define cor de fundo e texto secundária do botão.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--secondary-critical</code>
      </td>
      <td>Define estilos do botão secondary critical.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--tertiary</code>
      </td>
      <td>Define estilos do botão tertiary.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--tertiary-critical</code>
      </td>
      <td>Define estilos do botão tertiary critical.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--text-tertiary</code>
      </td>
      <td>Define estilos do botão text tertiary.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--text-tertiary-critical</code>
      </td>
      <td>Define estilos do botão text tertiary critical.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--inverse</code>
      </td>
      <td>Use o botão inverse em fundos escuros.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--[sm,md,lg]</code>
      </td>
      <td>Especifica o tamanho do botão.</td>
    </tr>
    <tr>
      <td>
        <code>.ods-btn--blocked</code>
      </td>
      <td>Faz o botão ocupar toda a largura do container pai.</td>
    </tr>
  </tbody>
</table>

## Props

<ArgsTable of={Button} />

A ref é encaminhada para o elemento raiz. Qualquer outra prop fornecida será passada para o elemento raiz (elemento nativo).

## Playground

<Canvas>
  <Story
    name="playground"
    args={{
      children: 'Meu Botão',
      variant: 'primary',
      size: 'md',
      blocked: false,
      loading: false,
      disabled: false,
    }}
  >
    {(args) => (
      <div
        style={{
          width: '500px',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      >
        <Button {...args} />
      </div>
    )}
  </Story>
</Canvas>
