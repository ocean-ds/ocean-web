import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import Button from '../Button';

<Meta
  title="Components/Button"
  component={Button}
  argTypes={{
    component: {
      name: 'component',
      description:
        'The component used for the root node. Either a string to use a HTML element or a component.',
      table: {
        type: { summary: 'elementType' },
        defaultValue: { summary: 'button' },
      },
      control: { type: null },
    },
    variant: {
      name: 'variant',
      description: 'The variant to use.',
      table: {
        type: {
          summary:
            '"primary" | "primaryCritical" | "secondary" | "secondaryCritical" | "text" | "textCritical" | "textTertiary" | "textTertiaryCritical" | "inverse"',
        },
        defaultValue: { summary: 'primary' },
      },
      control: { type: null },
    },
    size: {
      name: 'size',
      description: 'The size of the button.',
      table: {
        type: {
          summary: '"sm" | "md" | "lg"',
        },
        defaultValue: { summary: 'md' },
      },
      control: { type: null },
    },
    blocked: {
      name: 'blocked',
      description: 'Spans the full width of the Button parent.',
      table: {
        type: {
          summary: 'true | false',
        },
        defaultValue: { summary: false },
      },
      control: { type: null },
    },
  }}
/>

# Button

Trigger an action or event, such as submitting a form or displaying a dialog.

## Overview

The Button component is a fundamental UI element used to trigger actions or events in user interfaces. It supports various styles, sizes, and states to accommodate different use cases and design requirements.

## Import

```javascript
import { Button } from '@useblu/ocean-react';
```

## Usage

The Button component can be used in various contexts. Here are some common patterns:

### Basic Usage

<Canvas withSource="open" withToolbar>
  <Story name="usage">
    <Button>Click Here!</Button>
  </Story>
</Canvas>

## API Reference

The Button component is based on the `button` element and supports all standard button attributes.

| Prop     | Type                                                                                                                                                      | Default   | Description                                                                                                            |
| -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | --------- | ---------------------------------------------------------------------------------------------------------------------- |
| variant  | "primary" \| "primaryCritical" \| "secondary" \| "secondaryCritical" \| "text" \| "textCritical" \| "textTertiary" \| "textTertiaryCritical" \| "inverse" | "primary" | The visual style of the button. Use primary for main actions, secondary for alternatives, and text for subtle actions. |
| size     | "sm" \| "md" \| "lg"                                                                                                                                      | "md"      | The size of the button. Use sm for compact interfaces, md for standard use, and lg for prominent actions.              |
| blocked  | boolean                                                                                                                                                   | false     | When true, the button spans the full width of its container. Useful for mobile interfaces and form submissions.        |
| loading  | boolean                                                                                                                                                   | false     | Shows a loading spinner and disables the button. Use during async operations.                                          |
| disabled | boolean                                                                                                                                                   | false     | Prevents user interaction with the button. Use when the action is not available.                                       |

## Examples

<Canvas withSource="open" withToolbar>
  <Story name="variations">
    <div className="flex-story">
      <Button variant="primary">Primary</Button>
      <Button variant="primaryCritical">Primary Critical</Button>
      <Button variant="secondary">Secondary</Button>
      <Button variant="secondaryCritical">Secondary Critical</Button>
      <Button variant="text">Text</Button>
      <Button variant="textCritical">Text Critical</Button>
      <Button variant="textTertiary">Text Tertiary</Button>
      <Button variant="textTertiaryCritical">Text Tertiary Critical</Button>
      <Button variant="inverse">Inverse</Button>
    </div>
  </Story>
</Canvas>

### Size

Use the `size` prop to control the size of the button. Each size has specific use cases:

- `sm`: For compact interfaces or inline with text
- `md`: Standard size for most use cases
- `lg`: For prominent call-to-action buttons

<Canvas withSource="open" withToolbar>
  <Story name="size">
    <div className="flex-story">
      <Button size="sm">Small</Button>
      <Button size="md">Medium</Button>
      <Button size="lg">Large</Button>
    </div>
  </Story>
</Canvas>

### Blocked

Use the `blocked` prop to make the button span the full width of its container. Common use cases:

- Form submit buttons
- Mobile interfaces
- Card or modal footers

<Canvas withSource="open" withToolbar>
  <Story name="blocked">
    <Button blocked>Blocked Button</Button>
  </Story>
</Canvas>

### Disabled

Use the `disabled` prop to prevent user interaction with the button. Common use cases:

- When the action is not available
- When required fields are not filled
- During processing

<Canvas withSource="open" withToolbar>
  <Story name="disabled">
    <Button disabled>Disabled Button</Button>
  </Story>
</Canvas>

### Disabled States

Here are examples of disabled states for each variant. Use these patterns to indicate when actions are not available.

<Canvas withSource="open" withToolbar>
  <Story name="disabled-on-variant">
    <div className="flex-story">
      <Button variant="primary" disabled>
        Primary
      </Button>
      <Button variant="primaryCritical" disabled>
        Primary Critical
      </Button>
      <Button variant="secondary" disabled>
        Secondary
      </Button>
      <Button variant="secondaryCritical" disabled>
        Secondary Critical
      </Button>
      <Button variant="text" disabled>
        Text
      </Button>
      <Button variant="textCritical" disabled>
        Text Critical
      </Button>
      <Button variant="textTertiary" disabled>
        Text Tertiary
      </Button>
      <Button variant="textTertiaryCritical" disabled>
        Text TertiaryCritical
      </Button>
      <Button variant="inverse" disabled>
        Inverse
      </Button>
    </div>
  </Story>
</Canvas>

### Loading

Use the `loading` prop to show a loading state. Common use cases:

- During form submissions
- During async operations
- To prevent double-clicks

<Canvas withSource="open" withToolbar>
  <Story name="loading">
    <Button loading>Loading Button</Button>
  </Story>
</Canvas>

### Loading States

Here are examples of loading states for each variant. Use these patterns to indicate ongoing operations.

<Canvas withSource="open" withToolbar>
  <Story name="loading-auto-on-color">
    <div className="flex-story">
      <Button variant="primary" loading>
        On Color
      </Button>
      <Button variant="primaryCritical" loading>
        On Color
      </Button>
      <Button variant="secondary" loading>
        On Color
      </Button>
      <Button variant="secondaryCritical" loading>
        On Color
      </Button>
      <Button variant="text" loading>
        On Color
      </Button>
      <Button variant="textCritical" loading>
        On Color
      </Button>
      <Button variant="textTertiary" loading>
        On Color
      </Button>
      <Button variant="textTertiaryCritical" loading>
        On Color
      </Button>
      <Button variant="inverse" loading>
        On Color
      </Button>
    </div>
  </Story>
</Canvas>

### Loading Sizes

Here are examples of loading states for each size. Use these patterns to maintain consistency with your interface.

<Canvas withSource="open" withToolbar>
  <Story name="loading-on-size">
    <div className="flex-story">
      <Button size="sm" loading>
        Small
      </Button>
      <Button size="md" loading>
        Medium
      </Button>
      <Button size="lg" loading>
        Large
      </Button>
    </div>
  </Story>
</Canvas>

## CSS

| Global class                     | Description                                             |
| -------------------------------- | ------------------------------------------------------- |
| .ods-btn                         | Styles applied to the root element.                     |
| .ods-btn--primary                | Sets primary background and text color of the button.   |
| .ods-btn--primary-critical       | Sets styles of the primary critical button.             |
| .ods-btn--secondary              | Sets secondary background and text color of the button. |
| .ods-btn--secondary-critical     | Sets styles of the secondary critical button.           |
| .ods-btn--text                   | Sets styles of the text button.                         |
| .ods-btn--text-critical          | Sets styles of the text critical button.                |
| .ods-btn--text-tertiary          | Sets styles of the text tertiary button.                |
| .ods-btn--text-tertiary-critical | Sets styles of the text tertiary critical button.       |
| .ods-btn--inverse                | Use the inverse button on dark backgrounds.             |
| .ods-btn--[sm,md,lg]             | Specifies the width of the button.                      |
| .ods-btn--blocked                | Spans the full width of the Button parent.              |

## Props

<ArgsTable of={Button} />

The ref is forwarded to the root element. Any other props supplied will be provided to the root element (native element).

## Playground

<Canvas>
  <Story
    name="playground"
    args={{
      children: 'My Button',
    }}
  >
    {(args) => <Button {...args} />}
  </Story>
</Canvas>

## Button Types

The Button component supports all standard HTML button types. The `type` attribute determines the button's behavior in forms and interactions.

| Type     | Description         | Use Case                                         | Example                                        |
| -------- | ------------------- | ------------------------------------------------ | ---------------------------------------------- |
| `button` | Default button type | General purpose actions, JavaScript interactions | `jsx <Button type="button">Click me</Button> ` |
| `submit` | Submits form data   | Form submissions, data saving                    | `jsx <Button type="submit">Save</Button> `     |
| `reset`  | Resets form fields  | Form reset functionality                         | `jsx <Button type="reset">Reset</Button> `     |

### Usage Examples

#### Form Submission

```jsx
<form onSubmit={handleSubmit}>
  <input type="text" />
  <Button type="submit">Submit Form</Button>
  <Button type="button" variant="secondary">
    Cancel
  </Button>
</form>
```

#### Form Reset

```jsx
<form>
  <input type="text" />
  <Button type="submit">Save</Button>
  <Button type="reset" variant="secondary">
    Reset Form
  </Button>
</form>
```

#### General Purpose

```jsx
<Button type="button" onClick={handleClick}>
  Custom Action
</Button>
```

### Best Practices

1. **Form Submissions**

   - Use `type="submit"` for the main form submission button
   - Use `type="button"` for secondary actions in forms
   - Use `type="reset"` sparingly and only when form reset is necessary

2. **JavaScript Interactions**

   - Use `type="button"` for buttons that trigger JavaScript functions
   - This prevents accidental form submissions

3. **Accessibility**
   - Always specify the `type` attribute
   - Use appropriate types for better screen reader support
   - Maintain consistent behavior across the application
