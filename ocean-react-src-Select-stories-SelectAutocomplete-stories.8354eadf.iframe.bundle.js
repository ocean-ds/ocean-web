"use strict";(self.webpackChunkroot=self.webpackChunkroot||[]).push([[4078],{"./packages/ocean-react/src/Input/Input.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importDefault(__webpack_require__("./node_modules/react/index.js")),classnames_1=tslib_1.__importDefault(__webpack_require__("./node_modules/classnames/index.js")),useInputFilled_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/_util/useInputFilled.ts")),FormControl_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormControl/index.ts")),Input=react_1.default.forwardRef((function(_a,ref){var type=_a.type,label=_a.label,helperText=_a.helperText,error=_a.error,disabled=_a.disabled,defaultValue=_a.defaultValue,placeholder=_a.placeholder,tooltipMessage=_a.tooltipMessage,position=_a.position,adornment=_a.adornment,className=_a.className,id=_a.id,onChange=_a.onChange,value=_a.value,rest=tslib_1.__rest(_a,["type","label","helperText","error","disabled","defaultValue","placeholder","tooltipMessage","position","adornment","className","id","onChange","value"]),_b=(0,useInputFilled_1.default)({defaultValue,value,onChange}),filled=_b.filled,handleChange=_b.handleChange;return react_1.default.createElement(FormControl_1.default,{label,tooltipMessage,htmlFor:id,helperText,error,disabled},react_1.default.createElement("div",{className:(0,classnames_1.default)("ods-input",filled&&"ods-input--filled",disabled&&"ods-input--disabled",error&&"ods-input--error","left"===position&&"ods-input--left",adornment&&!filled?"ods-input--disabled--text":"",className,{"ods-input--adornment":"string"==typeof adornment})},react_1.default.createElement("input",tslib_1.__assign({ref,type:type||"text",id,disabled,onChange:handleChange,defaultValue,placeholder,value},rest)),adornment&&react_1.default.createElement("div",{className:(0,classnames_1.default)("ods-input__adornment",{"ods-input__adornment--placeholder":!filled})},adornment)))}));Input.displayName="Input",exports.default=Input;try{Input.displayName="Input",Input.__docgenInfo={description:"",displayName:"Input",props:{type:{defaultValue:{value:"'text'"},description:"Type of the `input` element.",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"number"'},{value:'"text"'},{value:'"search"'},{value:'"tel"'},{value:'"url"'},{value:'"email"'},{value:'"password"'}]}},label:{defaultValue:null,description:"Input label string.\nThe label content.",name:"label",required:!1,type:{name:"(string & (boolean | ReactChild | ReactFragment | ReactPortal | null)) | undefined"}},helperText:{defaultValue:null,description:"Input helper text.\nThe helper text content.",name:"helperText",required:!1,type:{name:"string | undefined"}},error:{defaultValue:{value:"false"},description:"Sets the input styles to error.\nIf `true`, the label will be displayed in an error state.",name:"error",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:{value:"false"},description:"Sets the input styles to disabled.\nIf true, should be displayed in a disabled state.",name:"disabled",required:!1,type:{name:"boolean | undefined"}},defaultValue:{defaultValue:null,description:"Specifies the default value of the text field",name:"defaultValue",required:!1,type:{name:"string | (string & readonly string[]) | undefined"}},tooltipMessage:{defaultValue:null,description:"Defines the tooltip property and text.",name:"tooltipMessage",required:!1,type:{name:"string | undefined"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"left"'},{value:'"right"'}]}},adornment:{defaultValue:null,description:"Sets a custon adornment to be iside of the `input` element.",name:"adornment",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>> | undefined"}},htmlFor:{defaultValue:null,description:"",name:"htmlFor",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/ocean-react/src/Input/Input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"packages/ocean-react/src/Input/Input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}},"./packages/ocean-react/src/Input/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),Input_1=__webpack_require__("./packages/ocean-react/src/Input/Input.tsx");Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return tslib_1.__importDefault(Input_1).default}})},"./packages/ocean-react/src/Select/SelectAutocomplete.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importStar(__webpack_require__("./node_modules/react/index.js")),classnames_1=tslib_1.__importDefault(__webpack_require__("./node_modules/classnames/index.js")),ocean_icons_react_1=__webpack_require__("./node_modules/@useblu/ocean-icons-react/dist/index.es.js"),FormControl_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormControl/index.ts")),FormLabel_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormLabel/index.ts")),context_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/context.ts")),Listbox_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/Listbox.tsx")),useSelect_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/useSelect.ts")),Input_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Input/index.ts")),SelectAutocomplete=function(_a){var label=_a.label,id=_a.id,helperText=_a.helperText,error=_a.error,optionsProp=_a.options,name=_a.name,value=_a.value,defaultValue=_a.defaultValue,disabled=_a.disabled,ariaLabel=_a.ariaLabel,onChange=_a.onChange,placeholder=_a.placeholder,rest=tslib_1.__rest(_a,["label","id","helperText","error","options","name","value","defaultValue","disabled","ariaLabel","onChange","placeholder"]),_b=(0,react_1.useState)(""),inputValue=_b[0],setInputValue=_b[1],timeOutId=(0,react_1.useRef)(),refSelControl=(0,react_1.useRef)(null),filteredOptions=optionsProp.filter((function(option){return option.label.toLowerCase().includes(inputValue.toLowerCase())})),_c=(0,useSelect_1.default)({options:filteredOptions,id,value,defaultValue,onChange,label}),controlId=_c.controlId,labelId=_c.labelId,listboxId=_c.listboxId,selected=_c.selected,selectClosestOption=_c.selectClosestOption,options=_c.options,onSelect=_c.onSelect,isExpanded=_c.isExpanded,setIsExpanded=_c.setIsExpanded,setSearch=_c.setSearch,handleKeyDown=(0,react_1.useCallback)((function(event){var key=event.key,incremental={ArrowDown:1,ArrowUp:-1,PageDown:4,PageUp:-4,Home:0,End:filteredOptions.length-1}[key];null!=incremental&&(selectClosestOption(incremental),setSearch((function(keysSoFar){return keysSoFar+key})))}),[filteredOptions.length,selectClosestOption,setSearch]),handleListboxKeyDown=(0,react_1.useCallback)((function(event){if(refSelControl.current)switch(event.key){case"Enter":case"Escape":case"Tab":event.preventDefault(),refSelControl.current.blur(),setIsExpanded(!1),setInputValue(selected?selected.label:"");break;default:handleKeyDown(event)}}),[handleKeyDown,setIsExpanded,selected]);return(0,react_1.useEffect)((function(){isExpanded&&refSelControl.current&&refSelControl.current.focus()}),[isExpanded,selected]),react_1.default.createElement(FormControl_1.default,{label:label&&react_1.default.createElement(FormLabel_1.default,{component:"span",disabled,id:labelId},label),helperText,error,disabled},react_1.default.createElement(context_1.default.Provider,{value:{selected,onSelect,setIsExpanded,refSelControl}},react_1.default.createElement("div",{className:"ods-select-autocomplete__root",onBlur:function(){timeOutId.current=window.setTimeout((function(){setIsExpanded(!1)}))},onFocus:function(){timeOutId.current&&(clearTimeout(timeOutId.current),setIsExpanded(!0))}},react_1.default.createElement(Input_1.default,tslib_1.__assign({},rest,{error,ref:refSelControl,id:controlId,disabled,onClick:function(){return setIsExpanded(!0)},onKeyDown:handleListboxKeyDown,"aria-expanded":isExpanded||void 0,"aria-haspopup":"listbox","aria-labelledby":ariaLabel?void 0:labelId,"aria-label":ariaLabel,value:(null==selected?void 0:selected.label)||inputValue,onChange:function(event){var eventValue=event.target.value;setInputValue(eventValue),setIsExpanded(!0),(""===eventValue||eventValue)&&onSelect({value:"",label:"",index:-1,id:""})},placeholder,adornment:react_1.default.createElement(ocean_icons_react_1.ChevronDown,null),className:(0,classnames_1.default)("ods-select-autocomplete__arrow",{"ods-select-autocomplete__arrow--up":isExpanded,"ods-select-autocomplete__arrow--down":!isExpanded,"ods-select-autocomplete__arrow--disabled":disabled}),"data-testid":"select-autocomplete-test"})),name&&react_1.default.createElement("input",{type:"hidden",name,value:(null==selected?void 0:selected.value)||""}),isExpanded&&react_1.default.createElement(Listbox_1.default,{id:listboxId,options:options.filter((function(option){return option.label.toLowerCase().includes(inputValue.toLowerCase())})),onKeyDown:handleListboxKeyDown}))))};exports.default=SelectAutocomplete;try{SelectAutocomplete.displayName="SelectAutocomplete",SelectAutocomplete.__docgenInfo={description:"",displayName:"SelectAutocomplete",props:{id:{defaultValue:null,description:"The id of the select element.",name:"id",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"Placeholder of select.",name:"placeholder",required:!1,type:{name:"string | undefined"}},options:{defaultValue:null,description:"Array of options that populate the select menu.",name:"options",required:!0,type:{name:"OptionType[]"}},value:{defaultValue:null,description:"Current selected option. Use when the component is controlled.",name:"value",required:!1,type:{name:"RawValueType | undefined"}},defaultValue:{defaultValue:null,description:"The default selected option. Use when the component is not controlled.",name:"defaultValue",required:!1,type:{name:"RawValueType | undefined"}},name:{defaultValue:null,description:"Name of the HTML Input (optional - without this, no input will be rendered)",name:"name",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"The aria-label of the select element.",name:"ariaLabel",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"Callback function fired when an option is selected.",name:"onChange",required:!1,type:{name:"((newValue: OptionType) => void) | undefined"}},className:{defaultValue:null,description:"The additional class to select.",name:"className",required:!1,type:{name:"string | undefined"}},label:{defaultValue:null,description:"The label content.",name:"label",required:!1,type:{name:"ReactNode"}},error:{defaultValue:{value:"false"},description:"If `true`, the label will be displayed in an error state.",name:"error",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:{value:"false"},description:"If true, should be displayed in a disabled state.",name:"disabled",required:!1,type:{name:"boolean | undefined"}},tooltipMessage:{defaultValue:null,description:"Defines the tooltip property and text.",name:"tooltipMessage",required:!1,type:{name:"string | undefined"}},helperText:{defaultValue:null,description:"The helper text content.",name:"helperText",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/ocean-react/src/Select/SelectAutocomplete.tsx#SelectAutocomplete"]={docgenInfo:SelectAutocomplete.__docgenInfo,name:"SelectAutocomplete",path:"packages/ocean-react/src/Select/SelectAutocomplete.tsx#SelectAutocomplete"})}catch(__react_docgen_typescript_loader_error){}},"./packages/ocean-react/src/Select/stories/SelectAutocomplete.stories.tsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.LargeDataset=exports.WithDisabledOptions=exports.States=exports.Usage=void 0;var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importDefault(__webpack_require__("./node_modules/react/index.js")),SelectAutocomplete_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/SelectAutocomplete.tsx")),shared_1=__webpack_require__("./packages/ocean-react/src/Select/stories/shared.tsx"),autocompleteOptions=[{value:"br",label:"Brasil"},{value:"us",label:"Estados Unidos"},{value:"ca",label:"Canadá"},{value:"mx",label:"México"},{value:"ar",label:"Argentina"},{value:"cl",label:"Chile"},{value:"pe",label:"Peru"},{value:"co",label:"Colômbia"},{value:"uy",label:"Uruguai"},{value:"py",label:"Paraguai"}],meta={title:"Components/Inputs/SelectAutocomplete",component:SelectAutocomplete_1.default,tags:["autodocs"],argTypes:tslib_1.__assign(tslib_1.__assign({},shared_1.sharedArgTypes),{label:{description:"Rótulo do campo de seleção com autocomplete.",control:"text"},placeholder:{description:"Texto de placeholder exibido no campo de entrada.",control:"text"},disabled:{description:"Desabilita o campo e impede a digitação e seleção.",control:"boolean"}})};exports.default=meta,exports.Usage={args:{label:"País",placeholder:"Digite para buscar...",helperText:"Digite o nome do país para filtrar as opções",error:!1,disabled:!1,options:autocompleteOptions},decorators:[shared_1.defaultDecorator]},exports.States={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",null,react_1.default.createElement(SelectAutocomplete_1.default,{label:"Normal",placeholder:"Digite para buscar...",options:autocompleteOptions.slice(0,5),onChange:shared_1.emptyHandler}),react_1.default.createElement(SelectAutocomplete_1.default,{label:"Com valor selecionado",defaultValue:"br",options:autocompleteOptions.slice(0,5),onChange:shared_1.emptyHandler}),react_1.default.createElement(SelectAutocomplete_1.default,{label:"Desabilitado",placeholder:"Campo desabilitado",options:autocompleteOptions.slice(0,5),disabled:!0,onChange:shared_1.emptyHandler}),react_1.default.createElement(SelectAutocomplete_1.default,{label:"Com erro",placeholder:"Campo com erro",options:autocompleteOptions.slice(0,5),error:!0,helperText:"Este campo é obrigatório",onChange:shared_1.emptyHandler}))}},exports.WithDisabledOptions={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",justifyContent:"center",maxWidth:"400px"}},react_1.default.createElement(SelectAutocomplete_1.default,{label:"Opções com desabilitadas",placeholder:"Digite para buscar...",options:[{value:"br",label:"Brasil"},{value:"us",label:"Estados Unidos",disabled:!0},{value:"ca",label:"Canadá"},{value:"mx",label:"México",disabled:!0},{value:"ar",label:"Argentina"},{value:"cl",label:"Chile"}],onChange:shared_1.emptyHandler}))}},exports.LargeDataset={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",justifyContent:"center",maxWidth:"400px"}},react_1.default.createElement(SelectAutocomplete_1.default,{label:"Conjunto grande de dados",placeholder:"Digite para buscar...",helperText:"Teste o filtro digitando algumas letras",options:Array.from(Array(50),(function(_,index){return{value:"item-".concat(index+1),label:"Item ".concat(index+1," - Opção ").concat(String.fromCharCode(65+index%26))}})),onChange:shared_1.emptyHandler}))}},module.exports.__namedExportsOrder=["LargeDataset","WithDisabledOptions","States","Usage"]},"./packages/ocean-react/src/_util/useInputFilled.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function useInputFilled(_a){var value=_a.value,defaultValue=_a.defaultValue,onChange=_a.onChange,_b=(0,react_1.useState)(Boolean(value||defaultValue)),filled=_b[0],setFilled=_b[1],_c=(0,react_1.useState)(value||defaultValue),inputValue=_c[0],setInputValue=_c[1],handleChange=(0,react_1.useCallback)((function(event){return onChange?onChange(event):(setFilled(Boolean(event.target.value)),setInputValue(event.target.value),event)}),[onChange]);return(0,react_1.useEffect)((function(){setFilled(Boolean(value))}),[value]),(0,react_1.useEffect)((function(){setFilled(Boolean(defaultValue))}),[defaultValue]),{inputValue,filled,handleChange}};var react_1=__webpack_require__("./node_modules/react/index.js")}}]);