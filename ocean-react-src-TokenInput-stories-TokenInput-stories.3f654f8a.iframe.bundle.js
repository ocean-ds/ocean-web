"use strict";(self.webpackChunkroot=self.webpackChunkroot||[]).push([[7120],{"./packages/ocean-react/src/FormControl/FormControl.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importDefault(__webpack_require__("./node_modules/react/index.js")),classnames_1=tslib_1.__importDefault(__webpack_require__("./node_modules/classnames/index.js")),ocean_icons_react_1=__webpack_require__("./node_modules/@useblu/ocean-icons-react/dist/index.es.js"),FormLabel_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormLabel/index.ts")),FormControl=function(_a){var label,children=_a.children,labelProp=_a.label,tooltipMessage=_a.tooltipMessage,htmlFor=_a.htmlFor,helperText=_a.helperText,error=_a.error,disabled=_a.disabled;return labelProp&&(label="string"==typeof labelProp?react_1.default.createElement(FormLabel_1.default,{htmlFor,disabled},labelProp):labelProp),react_1.default.createElement("div",{className:"ods-form-control__root"},(labelProp||tooltipMessage)&&react_1.default.createElement("div",{className:"ods-form-control__header"},labelProp&&react_1.default.createElement("div",{className:"ods-form-control__label"},label),tooltipMessage&&react_1.default.createElement("div",{"aria-label":tooltipMessage,className:"ods-form-control__icon ods-tooltip","data-tooltip-pos":"up-left"},react_1.default.createElement(ocean_icons_react_1.InformationCircle,{size:16,color:"#B6B9CC"})," ")),react_1.default.createElement("div",{className:(0,classnames_1.default)("ods-form-control__element")},children),helperText&&react_1.default.createElement("p",{className:(0,classnames_1.default)("ods-form-control__helper-text",error&&"ods-form-control__helper-text--error",disabled&&"ods-form-control__helper-text--disabled")},helperText))};exports.default=FormControl;try{FormControl.displayName="FormControl",FormControl.__docgenInfo={description:"",displayName:"FormControl",props:{children:{defaultValue:null,description:"A single child content element.",name:"children",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>> & ReactNode"}},label:{defaultValue:null,description:"The label content.",name:"label",required:!1,type:{name:"ReactNode"}},tooltipMessage:{defaultValue:null,description:"Defines the tooltip property and text.",name:"tooltipMessage",required:!1,type:{name:"string | undefined"}},htmlFor:{defaultValue:null,description:"",name:"htmlFor",required:!1,type:{name:"string | undefined"}},error:{defaultValue:{value:"false"},description:"If `true`, the label will be displayed in an error state.",name:"error",required:!1,type:{name:"boolean | undefined"}},helperText:{defaultValue:null,description:"The helper text content.",name:"helperText",required:!1,type:{name:"string | undefined"}},disabled:{defaultValue:{value:"false"},description:"If true, should be displayed in a disabled state.",name:"disabled",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/ocean-react/src/FormControl/FormControl.tsx#FormControl"]={docgenInfo:FormControl.__docgenInfo,name:"FormControl",path:"packages/ocean-react/src/FormControl/FormControl.tsx#FormControl"})}catch(__react_docgen_typescript_loader_error){}},"./packages/ocean-react/src/FormControl/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");tslib_1.__exportStar(__webpack_require__("./packages/ocean-react/src/FormControl/FormControl.tsx"),exports);var FormControl_1=__webpack_require__("./packages/ocean-react/src/FormControl/FormControl.tsx");Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return tslib_1.__importDefault(FormControl_1).default}})},"./packages/ocean-react/src/FormLabel/FormLabel.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importDefault(__webpack_require__("./node_modules/react/index.js")),classnames_1=tslib_1.__importDefault(__webpack_require__("./node_modules/classnames/index.js"));var FormLabel=react_1.default.forwardRef((function FormLabelBase(_a,ref){var children=_a.children,className=_a.className,component=_a.component,disabled=_a.disabled,rest=tslib_1.__rest(_a,["children","className","component","disabled"]);return react_1.default.createElement(component||"label",tslib_1.__assign({ref,className:(0,classnames_1.default)("ods-form-label",disabled&&"ods-form-label--disabled",className)},rest),children)}));exports.default=FormLabel},"./packages/ocean-react/src/FormLabel/index.ts":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),FormLabel_1=__webpack_require__("./packages/ocean-react/src/FormLabel/FormLabel.tsx");Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return tslib_1.__importDefault(FormLabel_1).default}})},"./packages/ocean-react/src/TokenInput/DigitInput.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importStar(__webpack_require__("./node_modules/react/index.js")),react_use_1=__webpack_require__("./node_modules/react-use/esm/index.js"),DigitInput=(0,react_1.memo)((function(_a){var focus=_a.focus,autoFocus=_a.autoFocus,rest=tslib_1.__rest(_a,["focus","autoFocus"]),inputRef=(0,react_1.useRef)(null),prevFocus=(0,react_use_1.usePrevious)(!!focus);return(0,react_1.useLayoutEffect)((function(){inputRef.current&&(focus&&autoFocus&&inputRef.current.focus(),focus&&autoFocus&&focus!==prevFocus&&(inputRef.current.focus(),inputRef.current.select()))}),[autoFocus,focus,prevFocus]),react_1.default.createElement("input",tslib_1.__assign({"data-testid":"token-input-test",ref:inputRef},rest))}));DigitInput.displayName="DigitInput",exports.default=DigitInput;try{DigitInput.displayName="DigitInput",DigitInput.__docgenInfo={description:"",displayName:"DigitInput",props:{autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!0,type:{name:"boolean"}},focus:{defaultValue:null,description:"",name:"focus",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/ocean-react/src/TokenInput/DigitInput.tsx#DigitInput"]={docgenInfo:DigitInput.__docgenInfo,name:"DigitInput",path:"packages/ocean-react/src/TokenInput/DigitInput.tsx#DigitInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/ocean-react/src/TokenInput/TokenInput.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importStar(__webpack_require__("./node_modules/react/index.js")),classnames_1=tslib_1.__importDefault(__webpack_require__("./node_modules/classnames/index.js")),DigitInput_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/TokenInput/DigitInput.tsx")),FormControl_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormControl/index.ts")),TokenInput=(0,react_1.memo)((function(_a){var onChangeToken=_a.onChangeToken,errorMessage=_a.errorMessage,className=_a.className,disabled=_a.disabled,label=_a.label,tooltipMessage=_a.tooltipMessage,htmlFor=_a.htmlFor,_b=_a.autoFocus,autoFocus=void 0===_b||_b,_c=_a.error,error=void 0!==_c&&_c,_d=_a.digitsQuantity,digitsQuantity=void 0===_d?4:_d,rest=tslib_1.__rest(_a,["onChangeToken","errorMessage","className","disabled","label","tooltipMessage","htmlFor","autoFocus","error","digitsQuantity"]),_e=(0,react_1.useState)(0),activeInput=_e[0],setActiveInput=_e[1],_f=(0,react_1.useState)(Array(digitsQuantity).fill("")),tokenValues=_f[0],setTokenValues=_f[1],handleTokenChange=(0,react_1.useCallback)((function(code){var tokenValue=code.join("");onChangeToken(tokenValue)}),[onChangeToken]),changeCodeAtFocus=(0,react_1.useCallback)((function(code){var updatedTokenValues=tslib_1.__spreadArray([],tokenValues,!0);updatedTokenValues[activeInput]=code[0]||"",setTokenValues(updatedTokenValues),handleTokenChange(updatedTokenValues)}),[activeInput,handleTokenChange,tokenValues]),focusInput=(0,react_1.useCallback)((function(inputIndex){var selectedIndex=Math.max(Math.min(digitsQuantity-1,inputIndex),0);setActiveInput(selectedIndex)}),[digitsQuantity]),focusPrevInput=(0,react_1.useCallback)((function(){focusInput(activeInput-1)}),[activeInput,focusInput]),focusNextInput=(0,react_1.useCallback)((function(){focusInput(activeInput+1)}),[activeInput,focusInput]),handleOnFocus=(0,react_1.useCallback)((function(index){return function(){focusInput(index)}}),[focusInput]),handleOnChange=(0,react_1.useCallback)((function(event){var currentValue=event.currentTarget.value;currentValue?(changeCodeAtFocus(currentValue),focusNextInput()):event.preventDefault()}),[changeCodeAtFocus,focusNextInput]),handleOnPaste=(0,react_1.useCallback)((function(event){event.preventDefault();var pastedText=event.clipboardData.getData("text/plain").trim().slice(0,digitsQuantity-activeInput).split("");if(pastedText){var nextFocusIndex_1=0,updatedTokenValues_1=tslib_1.__spreadArray([],tokenValues,!0);updatedTokenValues_1.forEach((function(values,index){if(index>=activeInput){var changedValue=pastedText.shift()||values;changedValue&&(updatedTokenValues_1[index]=changedValue,nextFocusIndex_1=index)}})),setTokenValues(updatedTokenValues_1),setActiveInput(Math.min(nextFocusIndex_1+1,digitsQuantity-1)),onChangeToken(updatedTokenValues_1.join(""))}}),[activeInput,digitsQuantity,tokenValues,onChangeToken]),handleOnKeyDown=(0,react_1.useCallback)((function(event){"Backspace"===event.key&&(event.preventDefault(),tokenValues[activeInput]?changeCodeAtFocus(""):focusPrevInput())}),[activeInput,changeCodeAtFocus,focusPrevInput,tokenValues]);return react_1.default.createElement(FormControl_1.default,{disabled,error,helperText:errorMessage&&error?errorMessage:"",label,tooltipMessage,htmlFor},react_1.default.createElement("div",{className:(0,classnames_1.default)(className,"ods-token-input")},Array(digitsQuantity).fill("").map((function(_,index){return react_1.default.createElement("div",{className:(0,classnames_1.default)("ods-token-input__input",{"ods-token-input--error":error,"ods-token-input--disabled":disabled}),key:(array=new Uint8Array(16),window.crypto.getRandomValues(array),Array.from(array,(function(byte){return byte.toString(16).padStart(2,"0")})).join(""))},react_1.default.createElement(DigitInput_1.default,tslib_1.__assign({},rest,{focus:activeInput===index,value:tokenValues&&tokenValues[index],autoFocus,onFocus:handleOnFocus(index),onChange:handleOnChange,onKeyDown:handleOnKeyDown,onPaste:handleOnPaste,disabled})));var array}))))}));TokenInput.displayName="TokenInput",exports.default=TokenInput;try{TokenInput.displayName="TokenInput",TokenInput.__docgenInfo={description:"",displayName:"TokenInput",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"boolean | undefined"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string | undefined"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean | undefined"}},digitsQuantity:{defaultValue:null,description:"",name:"digitsQuantity",required:!0,type:{name:"number"}},onChangeToken:{defaultValue:null,description:"",name:"onChangeToken",required:!0,type:{name:"(value: string) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | undefined"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean | undefined"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string | undefined"}},tooltipMessage:{defaultValue:null,description:"",name:"tooltipMessage",required:!1,type:{name:"string | undefined"}},htmlFor:{defaultValue:null,description:"",name:"htmlFor",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/ocean-react/src/TokenInput/TokenInput.tsx#TokenInput"]={docgenInfo:TokenInput.__docgenInfo,name:"TokenInput",path:"packages/ocean-react/src/TokenInput/TokenInput.tsx#TokenInput"})}catch(__react_docgen_typescript_loader_error){}},"./packages/ocean-react/src/TokenInput/stories/TokenInput.stories.tsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Validation=exports.States=exports.DigitsQuantity=exports.Usage=void 0;var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importDefault(__webpack_require__("./node_modules/react/index.js")),TokenInput_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/TokenInput/TokenInput.tsx")),meta={title:"Components/Inputs/TokenInput",component:TokenInput_1.default,tags:["autodocs"],argTypes:{digitsQuantity:{description:"Quantidade de dígitos do token.",control:"number"},label:{description:"Rótulo descritivo do campo.",control:"text"},error:{description:"Quando true, exibe o estilo de erro.",control:"boolean"},errorMessage:{description:"Mensagem de erro exibida quando error é true.",control:"text"},disabled:{description:"Desabilita o campo e impede edição.",control:"boolean"},autoFocus:{description:"Foca automaticamente no primeiro campo.",control:"boolean"},className:{table:{disable:!0}},tooltipMessage:{table:{disable:!0}},htmlFor:{table:{disable:!0}},onChangeToken:{table:{disable:!0}}}};exports.default=meta,exports.Usage={args:{label:"Código de Verificação",digitsQuantity:4,error:!1,errorMessage:"Código incorreto.",disabled:!1,autoFocus:!0},render:function(args){return react_1.default.createElement(TokenInput_1.default,tslib_1.__assign({},args,{onChangeToken:function(){}}))},decorators:[function(StoryComponent){return react_1.default.createElement("div",{style:{minWidth:"300px",display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",justifyContent:"center"}},react_1.default.createElement(StoryComponent,null))}]},exports.DigitsQuantity={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"center"}},react_1.default.createElement(TokenInput_1.default,{label:"4 dígitos",digitsQuantity:4,onChangeToken:function(){}}),react_1.default.createElement(TokenInput_1.default,{label:"6 dígitos",digitsQuantity:6,onChangeToken:function(){}}),react_1.default.createElement(TokenInput_1.default,{label:"8 dígitos",digitsQuantity:8,onChangeToken:function(){}}))}},exports.States={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"center"}},react_1.default.createElement(TokenInput_1.default,{label:"Normal",digitsQuantity:4,onChangeToken:function(){}}),react_1.default.createElement(TokenInput_1.default,{label:"Desabilitado",digitsQuantity:4,disabled:!0,onChangeToken:function(){}}),react_1.default.createElement(TokenInput_1.default,{label:"Erro",digitsQuantity:4,error:!0,errorMessage:"Código incorreto",onChangeToken:function(){}}))}};var ValidationExample=function(){var _a=react_1.default.useState(""),token=_a[0],setToken=_a[1],_b=react_1.default.useState(!0),isValid=_b[0],setIsValid=_b[1];return react_1.default.createElement("div",{style:{minWidth:"300px",textAlign:"center"}},react_1.default.createElement(TokenInput_1.default,{label:"Digite o código correto (1234)",digitsQuantity:4,error:!isValid,errorMessage:isValid?"":"Código incorreto. Tente novamente.",onChangeToken:function(value){setToken(value),4===value.length?setIsValid("1234"===value):setIsValid(!0)}}),react_1.default.createElement("div",{style:{marginTop:"16px",fontSize:"14px",color:"#666"}},react_1.default.createElement("p",null,"Token atual: ",token),react_1.default.createElement("p",null,"Status: ",isValid?"Válido":"Inválido"),react_1.default.createElement("p",null,'Dica: Digite "1234" para ver a validação')))};exports.Validation={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement(ValidationExample,null)}},module.exports.__namedExportsOrder=["Validation","States","DigitsQuantity","Usage"]}}]);