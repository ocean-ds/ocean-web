"use strict";(self.webpackChunkroot=self.webpackChunkroot||[]).push([[9878],{"./packages/ocean-react/src/Select/Select.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importStar(__webpack_require__("./node_modules/react/index.js")),classnames_1=tslib_1.__importDefault(__webpack_require__("./node_modules/classnames/index.js")),ocean_icons_react_1=__webpack_require__("./node_modules/@useblu/ocean-icons-react/dist/index.es.js"),FormControl_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormControl/index.ts")),FormLabel_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/FormLabel/index.ts")),context_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/context.ts")),Listbox_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/Listbox.tsx")),useSelect_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/useSelect.ts")),Select=function(_a){var label=_a.label,id=_a.id,helperText=_a.helperText,error=_a.error,optionsProp=_a.options,name=_a.name,value=_a.value,defaultValue=_a.defaultValue,disabled=_a.disabled,ariaLabel=_a.ariaLabel,onChange=_a.onChange,className=_a.className,placeholder=_a.placeholder,rest=tslib_1.__rest(_a,["label","id","helperText","error","options","name","value","defaultValue","disabled","ariaLabel","onChange","className","placeholder"]),_b=(0,useSelect_1.default)({options:optionsProp,id,value,defaultValue,onChange,label}),controlId=_b.controlId,labelId=_b.labelId,listboxId=_b.listboxId,selected=_b.selected,selectClosestOption=_b.selectClosestOption,options=_b.options,onSelect=_b.onSelect,isExpanded=_b.isExpanded,setIsExpanded=_b.setIsExpanded,setSearch=_b.setSearch,timeOutId=(0,react_1.useRef)(),refSelControl=(0,react_1.useRef)(null),handleKeyDown=(0,react_1.useCallback)((function(event){var key=event.key,incremental={ArrowDown:1,ArrowUp:-1,PageDown:4,PageUp:-4,Home:0,End:options.length-1}[key];null!=incremental&&selectClosestOption(incremental),setSearch((function(keysSoFar){return keysSoFar+key}))}),[options.length,selectClosestOption,setSearch]),handleListboxKeyDown=(0,react_1.useCallback)((function(event){switch(event.key){case"Enter":case"Escape":event.preventDefault(),refSelControl.current.focus(),setIsExpanded(!1);break;default:handleKeyDown(event)}}),[handleKeyDown,setIsExpanded]);return react_1.default.createElement(FormControl_1.default,{label:label&&react_1.default.createElement(FormLabel_1.default,{component:"span",disabled,id:labelId},label),helperText,error,disabled},react_1.default.createElement(context_1.default.Provider,{value:{selected,onSelect,setIsExpanded,refSelControl}},react_1.default.createElement("div",{className:"ods-select__root",onBlur:function(){timeOutId.current=window.setTimeout((function(){setIsExpanded(!1)}))},onFocus:function(){clearTimeout(timeOutId.current)}},react_1.default.createElement("button",tslib_1.__assign({},rest,{ref:refSelControl,id:controlId,type:"button",className:(0,classnames_1.default)("ods-select__control",isExpanded&&"ods-select__control--expanded",!isExpanded&&selected&&"ods-select__control--filled",error&&"ods-select__control--error",className),disabled,onClick:function(){return setIsExpanded(!isExpanded)},onKeyDown:handleKeyDown,"aria-expanded":isExpanded||void 0,"aria-haspopup":"listbox","aria-labelledby":ariaLabel?void 0:[labelId,controlId].filter(Boolean).join(" "),"aria-label":ariaLabel}),react_1.default.createElement("span",{className:(0,classnames_1.default)("ods-select__value",{"ods-select__value--empty":!(null==selected?void 0:selected.label)})},(null==selected?void 0:selected.label)||placeholder),react_1.default.createElement("div",{className:(0,classnames_1.default)("ods-select__arrow",{"ods-select__arrow--up":isExpanded,"ods-select__arrow--down":!isExpanded,"ods-select__arrow--disabled":disabled})},react_1.default.createElement(ocean_icons_react_1.ChevronDown,{size:20})),name&&react_1.default.createElement("input",{type:"hidden",name,value:(null==selected?void 0:selected.value)||""})),isExpanded&&react_1.default.createElement(Listbox_1.default,{id:listboxId,options,onKeyDown:handleListboxKeyDown}))))};exports.default=Select;try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{id:{defaultValue:null,description:"The id of the select element.",name:"id",required:!1,type:{name:"string | undefined"}},placeholder:{defaultValue:null,description:"Placeholder of select.",name:"placeholder",required:!1,type:{name:"string | undefined"}},options:{defaultValue:null,description:"Array of options that populate the select menu.",name:"options",required:!0,type:{name:"OptionType[]"}},value:{defaultValue:null,description:"Current selected option. Use when the component is controlled.",name:"value",required:!1,type:{name:"RawValueType | undefined"}},defaultValue:{defaultValue:null,description:"The default selected option. Use when the component is not controlled.",name:"defaultValue",required:!1,type:{name:"RawValueType | undefined"}},name:{defaultValue:null,description:"Name of the HTML Input (optional - without this, no input will be rendered)",name:"name",required:!1,type:{name:"string | undefined"}},ariaLabel:{defaultValue:null,description:"The aria-label of the select element.",name:"ariaLabel",required:!1,type:{name:"string | undefined"}},onChange:{defaultValue:null,description:"Callback function fired when an option is selected.",name:"onChange",required:!1,type:{name:"((newValue: OptionType) => void) | undefined"}},className:{defaultValue:null,description:"The additional class to select.",name:"className",required:!1,type:{name:"string | undefined"}},label:{defaultValue:null,description:"The label content.",name:"label",required:!1,type:{name:"ReactNode"}},error:{defaultValue:{value:"false"},description:"If `true`, the label will be displayed in an error state.",name:"error",required:!1,type:{name:"boolean | undefined"}},disabled:{defaultValue:{value:"false"},description:"If true, should be displayed in a disabled state.",name:"disabled",required:!1,type:{name:"boolean | undefined"}},tooltipMessage:{defaultValue:null,description:"Defines the tooltip property and text.",name:"tooltipMessage",required:!1,type:{name:"string | undefined"}},helperText:{defaultValue:null,description:"The helper text content.",name:"helperText",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/ocean-react/src/Select/Select.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"packages/ocean-react/src/Select/Select.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}},"./packages/ocean-react/src/Select/stories/Select.stories.tsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManyOptions=exports.WithDisabledOptions=exports.States=exports.Usage=void 0;var tslib_1=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),react_1=tslib_1.__importDefault(__webpack_require__("./node_modules/react/index.js")),Select_1=tslib_1.__importDefault(__webpack_require__("./packages/ocean-react/src/Select/Select.tsx")),shared_1=__webpack_require__("./packages/ocean-react/src/Select/stories/shared.tsx"),meta={title:"Components/Inputs/Select",component:Select_1.default,tags:["autodocs"],argTypes:shared_1.sharedArgTypes};exports.default=meta,exports.Usage={args:{label:"País",placeholder:"Selecione um país...",helperText:"Escolha o país desejado",error:!1,disabled:!1,options:shared_1.defaultOptions},decorators:[shared_1.defaultDecorator]},exports.States={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",null,react_1.default.createElement(Select_1.default,{label:"Normal",placeholder:"Selecione uma opção...",options:shared_1.defaultOptions.slice(0,4),onChange:shared_1.emptyHandler}),react_1.default.createElement(Select_1.default,{label:"Com valor selecionado",defaultValue:"br",options:shared_1.defaultOptions.slice(0,4),onChange:shared_1.emptyHandler}),react_1.default.createElement(Select_1.default,{label:"Desabilitado",placeholder:"Campo desabilitado",options:shared_1.defaultOptions.slice(0,4),disabled:!0,onChange:shared_1.emptyHandler}),react_1.default.createElement(Select_1.default,{label:"Com erro",placeholder:"Campo com erro",options:shared_1.defaultOptions.slice(0,4),error:!0,helperText:"Este campo é obrigatório",onChange:shared_1.emptyHandler}))}},exports.WithDisabledOptions={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",justifyContent:"center",maxWidth:"400px"}},react_1.default.createElement(Select_1.default,{label:"Opções com desabilitadas",placeholder:"Selecione um país...",options:[{value:"br",label:"Brasil"},{value:"us",label:"Estados Unidos",disabled:!0},{value:"ca",label:"Canadá"},{value:"mx",label:"México",disabled:!0},{value:"ar",label:"Argentina"}],onChange:shared_1.emptyHandler}))}},exports.ManyOptions={parameters:{controls:{disable:!0}},render:function(){return react_1.default.createElement("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center",justifyContent:"center",maxWidth:"400px"}},react_1.default.createElement(Select_1.default,{label:"Muitas opções",placeholder:"Selecione uma opção...",options:Array.from(Array(20),(function(_,index){return{value:"opt-".concat(index+1),label:"Opção ".concat(index+1)}})),onChange:shared_1.emptyHandler}))}},module.exports.__namedExportsOrder=["ManyOptions","WithDisabledOptions","States","Usage"]}}]);